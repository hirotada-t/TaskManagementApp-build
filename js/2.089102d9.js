(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"3bc1":function(t,e,a){"use strict";a("e2f2")},"6aaa":function(t,e,a){"use strict";a("9fe4")},9787:function(t,e,a){},"9fe4":function(t,e,a){},b718:function(t,e,a){},c2b3:function(t,e,a){"use strict";a("b718")},e2f2:function(t,e,a){},e401:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("q-page",[e("q-header",{staticClass:"bg-grey-7 desktop-only text-black",attrs:{elevated:""}},[e("q-toolbar",{staticClass:"q-py-sm q-gutter-md"},[e("div",{staticClass:"col-1"},[e("q-btn",{staticClass:"full-width bg-grey-4",attrs:{icon:"keyboard_return",label:"back",size:"15px",to:"/"}})],1),e("div",{staticClass:"col-3 task-list-title"},[e("q-input",{staticClass:"full-width",staticStyle:{"font-size":"25px"},attrs:{dense:"",outlined:"","bg-color":"grey-2",placeholder:"taskListTitle"},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.taskListTitle?e("q-icon",{attrs:{name:"edit"}}):e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(e){t.taskListTitle=""}}})]},proxy:!0}]),model:{value:t.taskListTitle,callback:function(e){t.taskListTitle=e},expression:"taskListTitle"}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"full-width bg-deep-orange-3",attrs:{label:"save",size:"15px",icon:"save_alt"},on:{click:t.saveData}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{staticClass:"full-width bg-light-blue-3",attrs:{label:t.filtered?"filtered":"unfiltered",size:"15px",icon:t.rmvUncleared},on:{click:function(e){t.filtered=!t.filtered}}},[e("q-tooltip",[t._v("\n            Remove uncleared\n          ")])],1)],1),e("q-btn",{staticClass:"text-white q-ml-auto",attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(e){t.rightDrawerOpen=!t.rightDrawerOpen}}})],1)],1),e("q-drawer",{attrs:{side:"right",overlay:"",behavior:"mobile",bordered:""},model:{value:t.rightDrawerOpen,callback:function(e){t.rightDrawerOpen=e},expression:"rightDrawerOpen"}},[e("div",{staticClass:"column column-responsive-reverse menu-justify bg-blue-grey-1",staticStyle:{height:"100%"}},[e("div",{staticClass:"bottom-menu column column-responsive-reverse"},[e("div",{staticClass:"close-btn"},[e("div",{staticClass:"text-right q-px-md"},[e("q-btn",{attrs:{flat:"",round:"",icon:"close",label:"close"},on:{click:function(e){t.rightDrawerOpen=!t.rightDrawerOpen}}})],1)]),e("div",{staticClass:"others"},[e("q-list",{staticClass:"rounded-borders",attrs:{bordered:""}},[e("q-expansion-item",{staticClass:"text-h5",attrs:{"expand-separator":"",label:"Others"}},[e("q-list",{staticClass:"text-h6"},[e("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",to:"/"}},[e("q-item-section",{staticClass:"items-end",attrs:{avatar:""}},[e("q-icon",{attrs:{name:"keyboard_return"}})],1),e("q-item-section",[t._v("back to Top")])],1),e("q-item",{attrs:{disable:""}},[e("q-item-section",{staticClass:"items-end",attrs:{avatar:""}},[e("q-icon",{attrs:{name:"hourglass_top"}})],1),e("q-item-section",[t._v("comming later...")])],1)],1)],1)],1)],1)]),e("div",{staticClass:"archive-list"},[e("p",{staticClass:"text-h5 q-pt-md q-pl-md"},[t._v("Archive List")]),0!=t.archiveList.length?e("div",[e("div",{staticClass:"archive-area bg-blue-grey"},t._l(t.archiveList,(function(a){return e("div",{key:a.cardId},[e("ArchiveItem",{attrs:{archiveItem:a},on:{"deleted-item":t.deletedUpdate}})],1)})),0)]):e("div",{staticClass:"text-center"},[e("p",{staticClass:"text-h6 text-indigo-7"},[e("span",{staticClass:"material-icons"},[t._v("search_off")]),t._v("No Archives…")])])])])]),e("div",{staticClass:"task-container"},[e("div",{staticClass:"q-py-md q-py-md viewport"},[e("div",{staticClass:"row no-wrap q-gutter-none content"},[t._l(t.getTaskList,(function(a){return e("div",{key:a.sectionId},[e("TaskColumn",{attrs:{section:a,filter:t.filtered},on:{"add-archive-list":t.addArchiveList}})],1)})),e("div",[t.newSectionInput?e("div",{staticClass:"q-pa-sm w-300px"},[e("q-card",{staticClass:"my-card bg-blue-grey-1 q-pa-md"},[e("q-input",{staticClass:"new-section",attrs:{borderless:"",placeholder:"sectionName"},model:{value:t.newSection,callback:function(e){t.newSection=e},expression:"newSection"}}),e("q-btn",{staticClass:"q-mt-sm",attrs:{label:"add",color:"primary"},on:{click:t.addSection}})],1)],1):t._e()]),e("div",[e("div",{staticClass:"q-pa-sm w-300px"},[e("q-card",{staticClass:"my-card bg-blue-grey-1"},[e("q-btn",{staticClass:"full-width",attrs:{flat:"",label:"＋ add sectiion"},on:{click:t.addSectionInput}})],1)],1)])],2)]),e("q-input",{staticClass:"full-width mobile-only",staticStyle:{"font-size":"20px"},attrs:{dense:"",outlined:"","bg-color":"grey-2",placeholder:"taskListTitle"},model:{value:t.taskListTitle,callback:function(e){t.taskListTitle=e},expression:"taskListTitle"}})],1),e("q-footer",{staticClass:"bg-blue-grey-9 text-white mobile-only",attrs:{elevated:""}},[e("q-tabs",{attrs:{align:"justify"}},[e("q-route-tab",{attrs:{dense:"",icon:"keyboard_return",to:"/#",exact:""}}),e("q-tab",{attrs:{dense:"",icon:"save_alt"},on:{click:t.saveData}}),e("q-tab",{attrs:{dense:"",icon:t.scaleIcon},on:{click:t.scaleCardArea}}),e("q-tab",{attrs:{dense:"",icon:t.rmvUncleared},on:{click:function(e){t.filtered=!t.filtered}}}),e("q-tab",{attrs:{dense:"",icon:"menu"},on:{click:function(e){t.rightDrawerOpen=!t.rightDrawerOpen}}})],1)],1)],1)},s=[],c=function(){var t=this,e=t._self._c;return t.getSection.archives?t._e():e("div",{staticClass:"q-pa-sm w-300px"},[e("q-card",{staticClass:"my-card bg-blue-grey-1"},[e("q-card-section",[e("div",{staticClass:"row order-xs-first"},[e("q-input",{staticClass:"col-11 text-h6",attrs:{autogrow:"",placeholder:"sectionName"},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.getSection.sectionName?e("q-icon",{attrs:{name:"edit"}}):e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(e){t.getSection.sectionName=""}}})]},proxy:!0}],null,!1,3002704846),model:{value:t.getSection.sectionName,callback:function(e){t.$set(t.getSection,"sectionName",e)},expression:"getSection.sectionName"}}),e("q-btn",{staticClass:"col-1",attrs:{flat:"",padding:"xs",icon:"more_vert"}},[e("q-menu",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-list",{staticStyle:{"min-width":"100px"}},[e("q-item",{attrs:{clickable:""},on:{click:t.archiveSection}},[e("q-item-section",[t._v("archive section")])],1),e("q-separator")],1)],1)],1)],1),t.countCards()?e("div",{staticClass:"text-blue-grey-4"},[t._v(t._s(t.countCards())+" tasks remain.")]):t._e()]),e("q-card-section",{staticClass:"h-full q-py-none"},[t._l(t.getSection.cardList,(function(a){return e("div",{key:a.cardId},[e("TaskItem",{attrs:{card:a,filtered:t.filter},on:{"add-archive":t.addArchive}})],1)})),t.newCardInput?e("q-card",{staticClass:"my-card q-mb-md"},[e("q-card-section",{staticClass:"q-py-none q-px-sm card-name text-h6"},[e("q-input",{staticClass:"new-card",attrs:{borderless:"",placeholder:"cardName"},model:{value:t.newCard,callback:function(e){t.newCard=e},expression:"newCard"}}),e("q-btn",{staticClass:"q-my-sm",attrs:{label:"add",color:"primary"},on:{click:t.addCard}})],1)],1):t._e()],2),e("q-btn",{staticClass:"full-width q-py-sm bg-dark text-white",attrs:{flat:"",label:"＋ add card"},on:{click:t.addSectionInput}})],1)],1)},r=[],n=function(){var t=this,e=t._self._c;return t.getCard.archives?t._e():e("q-card",{directives:[{name:"show",rawName:"v-show",value:t.removeUncleared,expression:"removeUncleared"}],staticClass:"gnavi my-card q-mb-md",class:t.getCard.priority},[e("div",{staticClass:"cleared-border",class:t.cleared},[e("div",[e("q-card-section",{staticClass:"q-py-none q-px-sm card-name"},[e("q-input",{staticClass:"col-11 text-h6",attrs:{dense:"",autogrow:"",placeholder:"cardName"},scopedSlots:t._u([{key:"append",fn:function(){return[""===t.getCard.cardName?e("q-icon",{attrs:{name:"edit"}}):e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(e){t.getCard.cardName=""}}})]},proxy:!0}],null,!1,475257550),model:{value:t.getCard.cardName,callback:function(e){t.$set(t.getCard,"cardName",e)},expression:"getCard.cardName"}})],1),e("q-card-section",{staticClass:"row justify-start q-py-none card-name"},[e("div",{},[e("q-checkbox",{attrs:{color:"black"},model:{value:t.getCard.checked,callback:function(e){t.$set(t.getCard,"checked",e)},expression:"getCard.checked"}}),t.getCard.checked?e("q-tooltip",[t._v("\n            Cleared!\n          ")]):t._e(),t.getCard.checked?t._e():e("q-tooltip",[t._v("\n            Not cleared\n          ")])],1),e("div",{},[e("q-btn",{attrs:{round:"",flat:"",icon:"archive"},on:{click:t.archiveCard}}),e("q-tooltip",[t._v("\n            Archive\n          ")])],1),e("div",{staticClass:"col-7 q-py-sm"},[e("q-select",{attrs:{dense:"",filled:"",borderless:"",options:t.options,label:"priority"},model:{value:t.getCard.priority,callback:function(e){t.$set(t.getCard,"priority",e)},expression:"getCard.priority"}})],1)])],1)])])},o=[],d={name:"TaskItem",props:{card:Object,filtered:Boolean},data(){return{getCard:this.card,options:["none","high","middle","low"],drawerR:!1,setDetails:!1,expanded:!0,getFilter:this.filtered}},methods:{archiveCard(){let t="";t=this.getCard.checked?"Do you archive the task?":"The task is uncompleted. Do you archive?",this.$q.dialog({title:"Alert",message:t,cancel:{push:!0,color:"negative"}}).onOk((()=>{this.getCard.archives=!0,this.$emit("add-archive",{cardId:this.getCard.cardId,cardName:this.getCard.cardName,priority:this.getCard.priority,checked:this.getCard.checked,deleted:!1})}))},deleteItem(){}},computed:{cleared(){return this.getCard.checked?"cleared":""},removeUncleared(){return!this.getFilter||!this.getCard.checked}},watch:{filtered(t){this.getFilter=t}},mounted(){}},l=d,h=(a("c2b3"),a("2877")),u=a("f09f"),m=a("a370"),p=a("27f9"),v=a("0016"),g=a("8f8e"),k=a("05c0"),f=a("9c40"),C=a("ddd8"),b=a("24e8"),w=a("4d5a"),q=a("e359"),y=a("65c6"),L=a("6ac5"),S=a("7ff0"),x=a("09e3"),I=a("9989"),_=a("3b73"),Q=a("7f67"),T=a("eebe"),N=a.n(T),D=Object(h["a"])(l,n,o,!1,null,"06993dd2",null),O=D.exports;N()(D,"components",{QCard:u["a"],QCardSection:m["a"],QInput:p["a"],QIcon:v["a"],QCheckbox:g["a"],QTooltip:k["a"],QBtn:f["a"],QSelect:C["a"],QDialog:b["a"],QLayout:w["a"],QHeader:q["a"],QToolbar:y["a"],QToolbarTitle:L["a"],QFooter:S["a"],QPageContainer:x["a"],QPage:I["a"],QExpansionItem:_["a"]}),N()(D,"directives",{ClosePopup:Q["a"]});var A={name:"TaskColumn",props:{section:Object,filter:Boolean},components:{TaskItem:O},data(){return{getSection:this.section,newCard:"",newCardInput:!1}},methods:{addSectionInput(){this.newCardInput=!this.newCardInput,this.$nextTick((()=>{const t=document.querySelector(".new-card input");t.focus(),t.addEventListener("keydown",(t=>{"Enter"===t.key&&this.addCard()}))}))},addCard(){this.newCardInput=!this.newCardInput;const t=new Date;this.getSection.cardList.push({cardId:"c-"+t.toLocaleString()+t.getMilliseconds(),cardName:this.newCard?this.newCard:"Card title",priority:"none",checked:!1,archives:!1,deleted:!1}),this.newCard=""},archiveSection(){this.$q.dialog({title:"Alert",message:"All cards in the section are also archived. Are you sure??",cancel:{push:!0,color:"negative"}}).onOk((()=>{this.getSection.archives=!0;for(let t=0;t<this.getSection.cardList.length;t++)this.getSection.cardList[t].archives=!0,this.$emit("add-archive-list",{cardId:this.getSection.cardList[t].cardId,cardName:this.getSection.cardList[t].cardName,priority:this.getSection.cardList[t].priority,checked:this.getSection.cardList[t].checked,deleted:!1})}))},addArchive(t){this.$emit("add-archive-list",t)},countCards(){let t=0;for(let e=0;e<this.getSection.cardList.length;e++)this.getSection.cardList[e].archives||t++;if(t>=2)return t},sortPriority(){}},computed:{},mounted(){}},j=A,$=(a("f0b7"),a("4e73")),B=a("1c1c"),z=a("66e5"),E=a("4074"),M=a("eb85"),U=Object(h["a"])(j,c,r,!1,null,"1e1e8e5e",null),P=U.exports;N()(U,"components",{QCard:u["a"],QCardSection:m["a"],QInput:p["a"],QIcon:v["a"],QBtn:f["a"],QMenu:$["a"],QList:B["a"],QItem:z["a"],QItemSection:E["a"],QSeparator:M["a"]});var F=function(){var t=this,e=t._self._c;return t.deleted?t._e():e("q-card",{staticClass:"gnavi my-card q-my-md q-mx-auto",class:t.archiveItem.priority},[e("div",{staticClass:"cleared-border",class:t.archiveItem.checked?"cleared":""},[e("div",[e("q-card-section",{staticClass:"row justify-between q-py-none q-px-sm card-name text-h6"},[t._v("\n        "+t._s(t.archiveItem.cardName)+"\n        "),e("q-btn",{attrs:{flat:"",icon:"delete"},on:{click:t.deleteAlert}})],1),e("q-card-section",{staticClass:"row justify-start items-center q-py-none q-px-sm card-name"},[e("div",{staticClass:"col-3"},[e("q-checkbox",{attrs:{disable:"",value:t.archiveItem.checked,color:"black"}}),t.archiveItem.checked?e("q-tooltip",[t._v("\n            Cleared!\n          ")]):t._e(),t.archiveItem.checked?t._e():e("q-tooltip",[t._v("\n            Not cleared\n          ")])],1),e("div",{staticClass:"col-6 q-py-sm"},[e("q-input",{attrs:{disable:"",dense:"",borderless:"",value:t.archiveItem.priority,label:"priority"}})],1)])],1)])])},R=[],J={name:"ArchiveItem",props:{archiveItem:Object},data(){return{deleted:this.archiveItem.deleted}},methods:{deleteAlert(){this.$q.dialog({title:"Alert",message:"Do you really want to delete it?",cancel:{push:!0,color:"negative"}}).onOk((()=>{this.deleted=!0,this.$emit("deleted-item",this.archiveItem.cardId)}))}},computed:{},watch:{},mounted(){}},H=J,V=(a("3bc1"),Object(h["a"])(H,F,R,!1,null,"c878d478",null)),W=V.exports;N()(V,"components",{QCard:u["a"],QCardSection:m["a"],QBtn:f["a"],QCheckbox:g["a"],QTooltip:k["a"],QInput:p["a"]});var G=a("7f74"),K={name:"PageIndex",props:{taskList:{type:Array}},components:{TaskColumn:P,ArchiveItem:W},data(){return{scaleIcon:"zoom_in",rightDrawerOpen:!1,getTaskList:this.taskList?this.taskList:[],scrollBooster:null,taskListTitle:"",newSection:"",newSectionInput:!1,filtered:!1,archiveList:[]}},methods:{addSectionInput(){this.newSectionInput=!this.newSectionInput,this.$nextTick((()=>{const t=document.querySelector(".new-section input");t.focus(),t.addEventListener("keydown",(t=>{"Enter"===t.key&&this.addSection()}))})),window.matchMedia&&window.matchMedia("(min-device-width: 1024px)").matches&&this.updateScrollBooster()},addSection(){const t=new Date;this.newSectionInput=!this.newSectionInput,this.getTaskList.push({sectionId:"s-"+t.toLocaleString(),sectionName:this.newSection?this.newSection:"Section title",archives:!1,cardList:[]}),this.newSection=""},setScrollBooster(t,e){return new G["a"]({viewport:t,content:e,direction:"horizontal",scrollMode:"native"})},updateScrollBooster(){this.$nextTick((()=>{this.scrollBooster.updateMetrics()}))},async saveData(){const t=new Date,e={suggestedName:this.taskListTitle?this.taskListTitle:t.toLocaleString(),types:[{description:"JSON file",accept:{"application/json":[".json"]}}]};try{const t=await window.showSaveFilePicker(e),a=await t.createWritable();await a.write(JSON.stringify(this.getTaskList)),await a.close()}catch(a){alert("保存をキャンセルしました。")}},confirmSave(t){t.returnValue=""},scaleCardArea(){const t=document.querySelector(".content");t.classList.contains("zoom-out")?(t.classList.remove("zoom-out"),this.scaleIcon="zoom_out"):(t.classList.add("zoom-out"),t.style.width=window.screen.width+"px",this.scaleIcon="zoom_in")},addArchiveList(t){this.archiveList.unshift(t)},deletedUpdate(t){for(let e=0;e<this.getTaskList.length;e++)for(let a=0;a<this.getTaskList[e].cardList.length;a++)this.getTaskList[e].cardList[a].cardId===t&&(this.getTaskList[e].cardList[a].deleted=!0,console.log(this.getTaskList))}},computed:{rmvUncleared(){return this.filtered?"filter_alt":"filter_alt_off"}},created(){window.addEventListener("beforeunload",this.confirmSave)},destroyed(){window.removeEventListener("beforeunload",this.confirmSave)},mounted(){const t=document.querySelector(".viewport"),e=document.querySelector(".content");window.matchMedia&&window.matchMedia("(min-device-width: 1024px)").matches&&(this.scrollBooster=this.setScrollBooster(t,e));const a=document.querySelector(".task-list-title");if(a.addEventListener("keydown",(t=>{"Enter"===t.key&&this.saveData()})),"undefined"!==typeof this.taskList&&this.taskList.length>0)for(let i=0;i<this.taskList.length;i++)if(this.taskList[i].cardList.length>0)for(let t=0;t<this.taskList[i].cardList.length;t++)this.taskList[i].cardList[t].archives&&this.archiveList.push({cardId:this.taskList[i].cardList[t].cardId,cardName:this.taskList[i].cardList[t].cardName,priority:this.taskList[i].cardList[t].priority,checked:this.taskList[i].cardList[t].checked,deleted:this.taskList[i].cardList[t].deleted})},beforeRouteLeave(t,e,a){const i=window.confirm("保存していないデータは失われます。よろしいですか？");i?a():a(!1)}},X=K,Y=(a("6aaa"),a("9404")),Z=a("429b"),tt=a("7867"),et=a("7460"),at=a("714f"),it=Object(h["a"])(X,i,s,!1,null,"56e32858",null);e["default"]=it.exports;N()(it,"components",{QPage:I["a"],QHeader:q["a"],QToolbar:y["a"],QBtn:f["a"],QInput:p["a"],QIcon:v["a"],QTooltip:k["a"],QDrawer:Y["a"],QList:B["a"],QExpansionItem:_["a"],QItem:z["a"],QItemSection:E["a"],QCard:u["a"],QFooter:S["a"],QTabs:Z["a"],QRouteTab:tt["a"],QTab:et["a"]}),N()(it,"directives",{Ripple:at["a"]})},f0b7:function(t,e,a){"use strict";a("9787")}}]);